#!/bin/bash
set -euxo pipefail

formulas=( \
  wget \
  curl \
  git \
  zsh \
  vim \
  htop \
  redis \
  go \
  hub \
  haskell-stack \
  shellcheck \
  \
  mackerelio/mackerel-agent/mackerel-agent \
  mackerelio/mackerel-agent/mkr \
  \
  itchyny/git-branch-name/git-branch-name \
  itchyny/fillin/fillin \
  itchyny/miv/miv \
  itchyny/qhs/qhs \
  itchyny/rexdep/rexdep \
  itchyny/gojo/gojo \
  itchyny/tap/formulate \
)

for formula in "${formulas[@]}"; do
  tools/brew-install "$formula"
done

if command -v miv >/dev/null 2>&1; then
  miv install
  cd "$(miv path vimproc)" && make
fi
